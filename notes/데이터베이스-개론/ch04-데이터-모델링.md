# Ch04. 데이터 모델링

## 1. 데이터 모델링과 데이터 모델

- 데이터 모델링(=개념적 모델링+논리적 모델링): 현실에 존재하는 데이터를 컴퓨터 세계의 DB로 옮기는 변환 과정.
    - ex. 코끼리(현실 데이터) -개념적 모델링→ 발 4개, 코 길다, 몸무게 1톤 이상, …(개념 세계) -논리적 모델링→’특징’컬럼에 ‘발 4개, 코 길다, 몸무게 1톤 이상’이라는 세 개의 String 튜플이 있는 것(컴퓨터 세계)
    - 개념적 모델링: 코끼리에 대한 중요 데이터를 추출하여 개념 세계로 옮기는 작업.
    - 논리적 모델링: 개념 세계의 데이터를 데이터베이스에 저장할 구조를 결정하고 이 구조로 표현하는 작업.
- 데이터 모델(=데이터 구조+연산+제약조건): 데이터 모델링의 결과물을 표현하는 도구. 개념적 모델, 논리적 모델을 사용하여 개념적 구조와 논리적 구조를 만든다.
- 개념적 데이터 모델 중 대표적인 것이 개체-관계 모델(E-R Model)
- 논리적 데이터 모델 중 대표적인 것이 관계 데이터 모델(relational data model)

## 2. E-R Model

### 1. 개체(Entity)

: 현실 세계에서 조직을 운영하는 데 꼭 필요한 사람이나 사물과 같이 구별되는 모든 것.

ex. 서점 -개념적 모델링→entity: 고객, 책

- 개체는 개념이나 사건처럼 개념적으로만 존재하는 것일 수도 있음.
    
    ex. 학교 운영 -개념적 모델링→ entity: 학과, 과목
  
<img width="1060" height="500" alt="image" src="https://github.com/user-attachments/assets/cd1c3ba7-6911-42eb-94fe-98a27c3c04a0" />

 - 개체는 사각형, 속성은 타원
 - 개체는 다른 개체와 구별되는 이름을 가지고 있음.
 - 개체는 각 개체만의 고유한 특성이나 상태, 즉 속성을 하나 이상 가지고 있음. 개체 이름+개체 속성들=개체 타입
    - ex.
    - 개체 타입 = 고객(이름, 주소, 연락처, 적립금)
    - 개체 = 고객
    - 개체 속성 = 이름, 주소, 연락처, 적립금
 - cf. 개체 인스턴스들=튜플들(데이터들), 개체 인스턴스들의 집합=개체 집합

### 2. 속성(Attribute)

: 개체가 가지고 있는 고유한 특성

```
속성 - 속성 값의 개수 - 단일 값 속성: 고객명은 하나
    |                - 다중 값 속성: 연락처는 두 개이상 가능(집, 핸드폰, ...)
     - 의미의 분해 가능성 - 단순 속성: 가격은 의미 단위로 더 나눌 수 없음
    |                    - 복합 속성: 주소는 도, 시, 동, 우편번호 등으로 나눌 수 있음.
     - 기존 속성 값에서 유도 - 유도 속성: 출생년도(저장 속성) -> 나이(유도 속성)
```

- 널 속성: null값(아직 결정되지 않았거나 모르는 값) 허용하는 속성.
- 키 속성: 개체 집합에 존재하는 각 객체 인스탄스들을 식별하는 데 사용하는 속성.
    - 어떤 경우에는 키를 둘 이상의 속성들로 구성하기도 한다.
        - ex. 선수들 정보를 담은 테이블에서 {팀명, 유니폼 등 번호}를 키 속성으로 사용하는 경우.

- 다이어그램 표시
<img width="1051" height="514" alt="image" src="https://github.com/user-attachments/assets/5eb6f332-0b92-4622-a114-43df7ddfd064" />
- 다중 값 속성: 이중 원
<img width="1121" height="421" alt="image" src="https://github.com/user-attachments/assets/e039e42c-73fb-4273-ae05-69ddbe41e64d" />
- 유도 속성: 점선 원
<img width="1111" height="565" alt="image" src="https://github.com/user-attachments/assets/54aae541-36ef-4ee9-a0d0-42d18b2daa9b" />
- 복합 속성: 작은 원으로 분리시킴
<img width="1034" height="395" alt="image" src="https://github.com/user-attachments/assets/07bb97e9-90b1-42e6-9dec-7f18c5a7555d" />
- 키 속성: 밑줄 표시



## 3. 관계(Relationship)

: 개체와 개체가 맺고 있는 의미 있는 연관성. ‘고객은 책을 구매한다’라는 업무에서 고객과 책 개체 사이의 ‘구매’가 관계가 된다. ‘구매’라는 관계에서 ‘구매한 고객에 대한 데이터’, ‘구매한 책에 대한 데이터’를 검색할 수 있다.

- 관계 유형: 1:1, 1:N, N:M
- 관계 참여 특성: 개체 A의 모든 개체 인스턴스가 관계에 필수적(전체) 참여 or 선택적(부분) 참여.
    - ex. 고객과 책 예시
        - 모든 고객이 책을 필수적으로 구매해야한다는 제약조건이 존재 → 고객 개체가 구매 관계에 필수적 참여.
        - 고객이 모든 책을 구매할 필요는 없음 → 책 개체가 구매 관계에 선택적 참여.
- 관계의 종속성: 두 개체 관계가 종속적이다.
    - 개체 B가 개체 A에 종속적이라면, 개체 A가 존재해야 개체B는 존재할 수 있다.
    - 이때, B는 약한 개체, A는 강한 개체
        - ex. 학교 입장에서 학생, 학부모 개체에서 학생(강한 개체)이 없다면 학부모 개체(약한 개체)가 필요없다. 즉, 학생 개체가 있어야 해당 학생의 학부모 개체가 존재할 수 있는 것이다.
    - 직원 개체(강한 개체)와 부양가족 개체(약한 개체)가 있다고 했을 때, 부양가족은 “부양”관계에 “필수적으로 참여”하고 있다. 한 직원의 부양가족 중에서 이름이 같은 사람은 없으니, 직원별로 봤을 때는 부양가족의 이름들로만 식별이 가능하다. 하지만, 다른 직원의 부양가족 이름과 겹칠 수 있으니, {직원번호, 부양가족 이름}을 ‘부양가족’ 개체의 ‘키’로 사용하는 것이 좋을 것이다!

- 관계 다이어그램
<img width="1128" height="383" alt="image" src="https://github.com/user-attachments/assets/f94a5eef-dff8-4d47-b523-defeb2e8457d" />
- 관계는 마름모로 표시. 관계에 대한 속성들도 있을 수 있음.
<img width="1365" height="297" alt="image" src="https://github.com/user-attachments/assets/fceb82fc-d853-4745-b7aa-aa3b53013592" />
- 필수적 참여 관계일 시 이중선으로 표시함.
<img width="1251" height="309" alt="image" src="https://github.com/user-attachments/assets/268bbd26-1181-4c4b-b512-2970df64cd3f" />
- 종속적 관계일 시, 이중 마름모로 표시한다. 또한, 약한 개체에 이중 사각형 표시를 한다.


  


  
